#!/usr/bin/env ruby
# encoding: UTF-8

HOME = ENV["INIQUITY_SYSTEM"] || Dir.pwd
ENV["INIQUITY_SYSTEM"] = HOME

require "inifile"
require "github_api"

puts "\nipm - The Iniquity Package Manager.\n\n"

repositories = Github.repos.list user: "iniquitybbs"

packages = []

repositories.each do |repo|
    if repo.name.match(/^ip/)
        puts repo.name
        packages.push(repo.name_full)
    end
end

puts "\nTotal ipm packages: #{packages.length}\n\n"
